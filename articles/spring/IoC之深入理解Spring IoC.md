### IoC之深入理解Spring IoC

#### IoC定义

> 控制反转（Inversion of Control,缩写为IoC），是面向对象编程中的一种设计原则，用来降低代码之间的耦合度。
> 其中，最常见的方式叫做`依赖注入`（Dependency Injection,简称DI），
> 还有一种方式叫`依赖查找`（Dependency Lookup）。通过控制反转，对象在被创建的时候，由一个调控`系统内所有对象`的`外界实体`，将其所依赖的对象的引用传递（注入）给它。

##### 谁控制谁？
IoC容器控制对象。

##### 控制什么？
控制对象。

##### 为何是反转？
依赖的对象由原来的主动获取变成被动接受，所以是反转。

##### 哪些方面反转了？
锁依赖对象的获取被反转了。

#### 实现方法

实现控制反转主要有两种方式：`依赖注入`和`依赖查找`。
两者的区别在于，前者是`被动`的接收对象，在类A的实例创建过程中即创建了依赖的B对象，通过类型或名称来判断将不同的对象注入到不同的属性中，
而后者是`主动`索取相应类型的对象，获得依赖对象的时间也可以在代码中自由控制。

##### 依赖注入

依赖注入有如下实现方式：
- 基于接口。实现特定接口以供外部容器注入锁依赖类型的对象。
- 基于set 方法。实现特定属性的 public set 方法，来让外部容器调用传入锁依赖类型的对象。
- 基于构造函数。实现特定参数的构造函数，在新建对象时传入所依赖类型的对象。
- 基于注解。基于Java的注解，在私有变量前加@Autowired等不需要显式的定义以上三种代码，便可以让外部容器传入对应的对象。
该方案相当于定义了public的set方法，但是因为没有真正的set方法，从而不会为了实现依赖注入导致暴露了不该暴露的接口（因为set方法只想让容器访问来注入而并不希望其他依赖此类的对象访问）。

##### 依赖查找
依赖查找更加主动，在需要的时候通过调用框架提供的方法来获取对象，获取时需要提供相关的配置文件路径、key等信息来确定获取对象的状态。

#### Spring中的IoC

Spring IoC，就是由Spring IoC容器来负责对象的生命周期和对象之间的关系。 平时我们代码里需要创建一个对象是需要通过new操作或者反射等方式创建，也就是说现在是我们人为地创建对象，控制对象，那么控制反转的意思就显而易见了，
就是将原来属于我们的控制权交由Spring框架进行管理，由Spring替我们创建对象，管理对象以及对象之间的依赖关系。当我们需要使用对象的时候直接问Spring取就可以了。

